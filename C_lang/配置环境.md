# Windows 配置开发环境

https://www.mingw-w64.org/downloads/

windows 的c/c++版本会慢一年,  主要是 mingw-w64 是 适配层 编译.

每当 GCC 升级一个大版本（例如 17 → 新的 C++ ABI、libstdc++ 结构变化），  
MinGW-w64 需要：

- 重新适配 Windows 头文件；
    
- 重新实现异常机制；
    
- 兼容新版 libstdc++；
    
- 验证生成的 `.exe`、`.dll` 是否能运行在 Win10/11。
    
这个过程一般要比 GCC 主线 **慢 3~6 个月**。

## 选择MSYS2安装

https://www.msys2.org/ Then follow the tutorial to install.

### 🧩 一、MSYS2 是什么？

**MSYS2（Minimal SYStem 2）** 是一个在 Windows 上模拟 Linux 环境的工具，  
同时它也提供了一个完整的包管理器 `pacman`，可以安装各种开发工具。

MSYS2 实际上包含三个主要环境：

| 环境名         | 启动方式              | 作用                                                         |
| ----------- | ----------------- | ---------------------------------------------------------- |
| **MSYS**    | “MSYS2 MSYS”      | 提供 Linux 工具（bash、git、make等），但编译出的程序是 POSIX 环境的（非纯 Windows） |
| **MINGW64** | “MSYS2 MinGW x64” | 生成 Windows 原生 64 位程序                                       |
| **UCRT64**  | “MSYS2 UCRT64” ✅  | 推荐使用的现代 Windows 编译环境（兼容性最好）                                |
| **CLANG64** | “MSYS2 CLANG64”   | 使用 LLVM/Clang 编译链                                          |

### 🧭 二、MSYS2 文件系统结构

在 MSYS2 中你会看到一些目录：

```
/usr/bin       → MSYS 自带工具 (bash, pacman, grep, sed 等)
/mingw64/bin   → MinGW64 的工具 (gcc, g++, cmake 等)
/ucrt64/bin    → UCRT64 的工具 (gcc, g++, cmake 等)

windows上记得都加入到系统环境
```

它们实际上都映射到 Windows 下的路径：

```
C:\msys64\usr\bin
C:\msys64\ucrt64\bin
```
### ⚙️ 三、MSYS2 基本操作命令

| 功能     | 命令                 | 说明              |
| ------ | ------------------ | --------------- |
| 更新包数据库 | `pacman -Sy`       | 更新索引            |
| 更新所有包  | `pacman -Syu`      | 相当于 apt upgrade |
| 安装包    | `pacman -S <包名>`   | 安装指定软件          |
| 删除包    | `pacman -R <包名>`   | 卸载包             |
| 搜索包    | `pacman -Ss <关键词>` | 查找可用包           |
| 查看已装包  | `pacman -Qs <关键词>` | 搜索已安装的包         |
| 清理缓存   | `pacman -Sc`       | 删除旧安装包缓存        |

### 🧰 四、C/C++ 常用工具包名

|工具|包名|功能说明|
|---|---|---|
|GCC 编译器|`mingw-w64-ucrt-x86_64-gcc`|C/C++ 编译器|
|GDB 调试器|`mingw-w64-ucrt-x86_64-gdb`|调试工具|
|CMake|`mingw-w64-ucrt-x86_64-cmake`|构建系统|
|Make|`mingw-w64-ucrt-x86_64-make`|GNU make 构建工具|
|Ninja|`mingw-w64-ucrt-x86_64-ninja`|现代构建系统|
|Git|`mingw-w64-ucrt-x86_64-git`|版本控制|
|Python|`mingw-w64-ucrt-x86_64-python`|Python 解释器|

例如安装一套常用开发环境：

```bash
pacman -S --needed mingw-w64-ucrt-x86_64-gcc mingw-w64-ucrt-x86_64-make mingw-w64-ucrt-x86_64-cmake mingw-w64-ucrt-x86_64-gdb base-devel git mingw-w64-ucrt-x86_64-toolchain
```



| 包名                                  | 主要内容               | 用途                                                                                                                   |
| ----------------------------------- | ------------------ | -------------------------------------------------------------------------------------------------------------------- |
| **mingw-w64-ucrt-x86_64-gcc**       | GCC 编译器（含 C 和 C++） | 编译 C / C++ 程序的核心工具 (`gcc`, `g++`)                                                                                    |
| **mingw-w64-ucrt-x86_64-make**      | GNU Make 工具        | 执行 `Makefile` 构建脚本的工具                                                                                                |
| **mingw-w64-ucrt-x86_64-cmake**     | CMake 构建系统         | 支持跨平台构建配置（比 Makefile 更现代）                                                                                            |
| **mingw-w64-ucrt-x86_64-gdb**       | GNU 调试器（GDB）       | 在 VS Code 等工具中单步调试 C/C++ 程序                                                                                          |
| **base-devel**                      | 一组基础开发工具           | 包含 `make`, `autoconf`, `automake`, `m4`, `pkg-config`, `diffutils`, `patch`, `libtool`, `binutils` 等等，编译开源项目必备       |
| **git**                             | Git 版本控制工具         | 拉取/提交/管理项目源码                                                                                                         |
| **mingw-w64-ucrt-x86_64-toolchain** | UCRT64 工具链集合       | 一揽子打包：`gcc`, `g++`, `gdb`, `binutils`, `crt`, `headers`, `libstdc++`, `winpthreads`, `mingw-runtime` 等，安装后几乎包含所有编译组件 |


### 🧑‍💻 五、文件与路径

在 MSYS2 的 bash 中，路径是 **Unix 风格**：

```bash
cd /c/Users/Administrator/Desktop
```

对应的 Windows 路径是：

```
C:\Users\Administrator\Desktop
```

你可以这样打开文件夹：

```bash
explorer .
```

会打开当前目录在 Windows 资源管理器中。

### 🧩 六、编译与运行 C/C++

示例：

```bash
echo '#include <stdio.h>\nint main(){printf("Hi MSYS2!\\n");return 0;}' > hi.c
gcc hi.c -o hi.exe
./hi.exe
```

或者 C++：

```bash
echo '#include <iostream>\nint main(){std::cout<<"Hi C++!"<<std::endl;}' > hi.cpp
g++ hi.cpp -o hi.exe
./hi.exe
```

### ⚒️ 七、编译项目常用命令

|操作|命令|
|---|---|
|仅编译（生成 .o 文件）|`g++ -c main.cpp`|
|链接多个目标文件|`g++ main.o utils.o -o app.exe`|
|启用调试符号|`g++ -g main.cpp -o app.exe`|
|启用优化|`g++ -O2 main.cpp -o app.exe`|
|指定 C++ 标准|`g++ -std=c++20 main.cpp -o app.exe`|

### 📦 八、环境变量与路径

查看环境变量：

```bash
echo $PATH
```

添加自定义路径：

```bash
export PATH="$PATH:/custom/bin"
```

想让每次启动都生效：

```bash
echo 'export PATH="$PATH:/custom/bin"' >> ~/.bashrc
```

### 🧹 九、清理与维护

|操作|命令|说明|
|---|---|---|
|清理旧缓存|`pacman -Sc`|删除无用缓存|
|强制清理全部缓存|`pacman -Scc`|谨慎使用|
|修复依赖|`pacman -S --needed <包>`|自动补齐依赖|
|删除孤立包|`pacman -Qtdq|pacman -Rns -`|

---

### 💡 十、退出与切换环境

在windows上, 还是要手动切换环境

![](../learning/src/objInfo/assets/Pasted%20image%2020251018132015.png)

|操作|命令|
|---|---|
|退出当前 shell|`exit`|
|切换到 MSYS|`msys2`|
|切换到 UCRT64|`ucrt64`|
|切换到 MINGW64|`mingw64`|

# Linux

大部分自带, 少数需要手动安装.


# MacOS

问就是, 自带环境. 记得装xcode