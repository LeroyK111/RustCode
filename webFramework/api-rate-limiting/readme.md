使用tower-governor实现限速器

提供速率限制的tower服务和层，后端是governo库。tower-governor很大程度上基于actix-governor所做的工作，可以与Axum, Hyper, Tonic和其他任何基于tower组件库的框架一起使用！

tower-governor的特点：

速率限制请求基于对端的IP地址，IP地址头或通过自定义设置

自定义流量限制的标准是按每秒计算

使用简单

高可定制性

高性能

健壮而灵活的API


它是如何工作的？

每个调控器中间件都有一个存储配额的配置，配额指定可以从一个IP地址发送多少请求，如果超过配额则阻止进一步请求。

例如，如果配额允许10个请求，客户机可以在中间件开始阻塞之前的短时间内发送10个请求。

一旦使用了至少一个配额元素，配额元素将在指定时间后补充。

例如，如果周期为2秒，并且配额为空，则需要2秒来补充配额的一个元素。这意味着可以平均每两秒钟发送一个请求。

如果配额允许在同一时间段内发送10个请求，则客户端可以再次发送10个请求的突发事件，然后必须等待2秒才能发送进一步的请求，或者在完整配额被补充之前等待20秒，他可以发送另一个突发事件。

```shell
cargo run
```